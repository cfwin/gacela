<?php

use Test\Mapper as T;

/**
 * Generated by PHPUnit_SkeletonGenerator on 2012-10-21 at 14:11:44.
 */
class MapperTest extends \PHPUnit_Framework_TestCase
{
    /**
     * @var Mapper
     */
    protected $object;

	public function providerFind()
	{
		return array(
			array('course', 1),
			array('house', 2),
			array('wizard', 3)
		);
	}

	public function providerLoad()
	{
		return array(
			array('course', (object) array('courseId' => 1, 'wizardId' => 4, 'subject' => 'Care of Magical Teachers')),
			array('house', (object) array('houseId' => 1, 'houseName' => 'Gryffindor')),
		);

	}

	public function testSleep()
	{
		$source = Gacela::createDataSource(
			array(
				'type' => 'mysql',
				'name' => 'db',
				'user' => 'gacela',
				'password' => 'gacela',
				'schema' => 'gacela',
				'host' => 'localhost'
			)
		);

		Gacela::instance()->registerDataSource($source);

		Gacela::instance()->registerNamespace('App', __DIR__.'/../../samples/');

		$mapper = Gacela::instance()->loadMapper('house');

		$str = serialize($mapper);

		$this->assertEquals($mapper, unserialize($str));
	}

    /**
     * @covers Gacela\Mapper\Mapper::addAssociation
     * @todo   Implement testAddAssociation().
     */
    public function testAddAssociation()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::count
     * @todo   Implement testCount().
     */
    public function testCount()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::debug
     * @todo   Implement testDebug().
     */
    public function testDebug()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::delete
     * @todo   Implement testDelete().
     */
    public function testDelete()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::find
	 * @dataProvider providerFind
     */
    public function testFind($mapper, $primary)
    {
		$model = \Gacela::instance()->loadMapper($mapper)->find($primary);

		$key = $mapper.'Id';

		$this->assertSame($primary, $model->$key);
    }

    /**
     * @covers Gacela\Mapper\Mapper::findAll
     * @todo   Implement testFindAll().
     */
    public function testFindAll()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::findAllByAssociation
     * @todo   Implement testFindAllByAssociation().
     */
    public function testFindAllByAssociation()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::findRelation
     * @todo   Implement testFindRelation().
     */
    public function testFindRelation()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::getFields
     * @todo   Implement testGetFields().
     */
    public function testGetFields()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::getPrimaryKey
     * @todo   Implement testGetPrimaryKey().
     */
    public function testGetPrimaryKey()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::getRelations
     * @todo   Implement testGetRelations().
     */
    public function testGetRelations()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::load
	 * @dataProvider providerLoad
     */
    public function testLoad($mapper, $data)
    {
		$this->assertAttributeEquals($data, '_data', \Gacela::instance()->loadMapper($mapper)->load($data));
    }

    /**
     * @covers Gacela\Mapper\Mapper::removeAssociation
     * @todo   Implement testRemoveAssociation().
     */
    public function testRemoveAssociation()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }

    /**
     * @covers Gacela\Mapper\Mapper::save
     * @todo   Implement testSave().
     */
    public function testSave()
    {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }
}
